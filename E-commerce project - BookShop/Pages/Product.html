<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product - Book Shop</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="../main.css" />
    <style>
      /* Product Detail Styles */
      .product-detail {
        padding: 60px 0;
      }

      .product-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 40px;
        align-items: start;
      }

      .product-gallery {
        position: sticky;
        top: 20px;
      }

      .product-image {
        width: 100%;
        height: 500px;
        object-fit: contain;
        background-color: #f5f5f5;
        border-radius: 8px;
        margin-bottom: 20px;
      }

      .product-badge {
        display: inline-block;
        background-color: #e74c3c;
        color: white;
        padding: 5px 15px;
        border-radius: 5px;
        font-size: 14px;
        font-weight: bold;
        margin-bottom: 15px;
      }

      .product-title {
        font-size: 32px;
        margin-bottom: 10px;
        color: #2c3e50;
      }

      .product-author {
        font-size: 18px;
        color: #7f8c8d;
        margin-bottom: 20px;
      }

      .product-rating {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 20px;
      }

      .product-price {
        margin-bottom: 30px;
      }

      .current-price {
        font-size: 28px;
        font-weight: bold;
        color: #e74c3c;
      }

      .original-price {
        text-decoration: line-through;
        color: #7f8c8d;
        font-size: 18px;
        margin-left: 10px;
      }

      .product-description {
        margin-bottom: 30px;
        line-height: 1.8;
      }

      .product-actions {
        display: flex;
        gap: 15px;
        margin-bottom: 30px;
      }

      .add-to-cart {
        background-color: #2c3e50;
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .add-to-cart:hover {
        background-color: #1a252f;
      }

      .add-to-favorites {
        background-color: transparent;
        color: #e74c3c;
        border: 1px solid #e74c3c;
        padding: 12px 25px;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .add-to-favorites:hover {
        background-color: #e74c3c;
        color: white;
      }

      .product-meta {
        margin-top: 40px;
        border-top: 1px solid #eee;
        padding-top: 20px;
      }

      .meta-item {
        margin-bottom: 10px;
      }

      .meta-label {
        font-weight: bold;
        color: #2c3e50;
      }

      @media (max-width: 768px) {
        .product-container {
          grid-template-columns: 1fr;
        }

        .product-image {
          height: 400px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header (Same as shop page) -->
    <header>
      <div class="container header-container">
        <div class="logo">Book<span>Shop</span></div>
        <nav>
          <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="./shop.html">Shop</a></li>
            <li><a href="./mycart.html">Cart</a></li>
            <li><a href="./myfavouritespage.html">Favourites</a></li>
            <li><a href="./contactus.html">Contact</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Product Detail Section -->
    <section class="product-detail">
      <div class="container">
        <div class="product-container">
          <div class="product-gallery">
            <img id="product-image" src="" alt="" class="product-image" />
          </div>

          <div class="product-info">
            <span
              id="product-badge"
              class="product-badge"
              style="display: none"
            ></span>
            <h1 id="product-title" class="product-title"></h1>
            <p id="product-author" class="product-author"></p>

            <div class="product-rating">
              <div class="stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star-half-alt"></i>
              </div>
              <span id="product-rating"></span>
            </div>

            <div class="product-price">
              <span id="current-price" class="current-price"></span>
              <span
                id="original-price"
                class="original-price"
                style="display: none"
              ></span>
            </div>

            <div class="product-description">
              <p id="product-description"></p>
            </div>

            <div class="product-actions">
              <button class="add-to-cart" id="add-to-cart">
                <i class="fas fa-shopping-cart"></i>
                Add to Cart
              </button>
              <button class="add-to-favorites" id="add-to-favorites">
                <i class="far fa-heart"></i>
                Add to Favorites
              </button>
            </div>

            <div class="product-meta">
              <div class="meta-item">
                <span class="meta-label">ISBN:</span>
                <span id="product-isbn">978-1250251302</span>
              </div>
              <div class="meta-item">
                <span class="meta-label">Publisher:</span>
                <span id="product-publisher">Celadon Books</span>
              </div>
              <div class="meta-item">
                <span class="meta-label">Pages:</span>
                <span id="product-pages">336</span>
              </div>
              <div class="meta-item">
                <span class="meta-label">Language:</span>
                <span id="product-language">English</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-column">
            <h3>Book Shop</h3>
            <p>
              Your one-stop shop for all your reading needs. We offer a wide
              selection of books across all genres.
            </p>
          </div>
          <div class="footer-column">
            <h3>Quick Links</h3>
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#">Shop</a></li>
              <li><a href="#">Categories</a></li>
              <li><a href="#">About Us</a></li>
            </ul>
          </div>
          <div class="footer-column">
            <h3>Customer Service</h3>
            <ul>
              <li><a href="#">Contact Us</a></li>
              <li><a href="#">FAQs</a></li>
              <li><a href="#">Shipping Policy</a></li>
              <li><a href="#">Returns</a></li>
            </ul>
          </div>
        </div>
        <div class="copyright">
          <p>&copy; 2025 Book Shop. All Rights Reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      // Get book ID from URL
      const urlParams = new URLSearchParams(window.location.search);
      const bookId = urlParams.get("id");

      // Book database with descriptions (extend your existing books array)
      const books = [
        {
          id: "1",
          title: "The Silent Patient",
          author: "By Alex Michaelides",
          price: "$12.99",
          originalPrice: "$16.99",
          image:
            "https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
          badge: "Bestseller",
          rating: "4.5",
        },
        {
          id: "2",
          title: "Educated",
          author: "By Tara Westover",
          price: "$14.99",
          image:
            "https://images.unsplash.com/photo-1589998059171-988d887df646?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
          rating: "4.7",
        },
        {
          id: "3",
          title: "To Kill a Mockingbird",
          author: "By Harper Lee",
          price: "$10.99",
          originalPrice: "$12.99",
          image:
            "https://images.unsplash.com/photo-1541963463532-d68292c34b19?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
          badge: "Classic",
          rating: "4.8",
        },
        {
          id: "4",
          title: "1984",
          author: "By George Orwell",
          price: "$9.99",
          image:
            "https://images.unsplash.com/photo-1531346878377-a5be20888e57?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
          rating: "4.6",
        },
        {
          id: "5",
          title: "The Great Gatsby",
          author: "By F. Scott Fitzgerald",
          price: "$8.99",
          originalPrice: "$14.99",
          image:
            "https://images.unsplash.com/photo-1535905557558-afc4877a26fc?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
          badge: "Sale",
          rating: "4.4",
        },
        {
          id: "6",
          title: "Where the Crawdads Sing",
          author: "By Delia Owens",
          price: "$13.99",
          image:
            "https://images.unsplash.com/photo-1507842217343-583bb7270b66?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
          rating: "4.8",
        },
        {
          id: "7",
          title: "Dune",
          author: "By Frank Herbert",
          price: "$15.99",
          image:
            "https://images.unsplash.com/photo-1462331940025-496dfbfc7564?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
          badge: "New",
          rating: "4.7",
        },
        {
          id: "8",
          title: "The Hobbit",
          author: "By J.R.R. Tolkien",
          price: "$11.99",
          originalPrice: "$14.99",
          image:
            "https://images.unsplash.com/photo-1534447677768-be436bb09401?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
          rating: "4.9",
        },
        {
          id: "8",
          title: "The Hobbit",
          author: "By J.R.R. Tolkien",
          price: "$11.99",
          originalPrice: "$14.99",
          image:
            "https://images.unsplash.com/photo-1534447677768-be436bb09401?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
          rating: "4.9",
        },
        {
          id: "9",
          title: "The Catcher in the Rye",
          author: "By J.D. Salinger",
          price: "$10.50",
          image:
            "https://img.youm7.com/ArticleImgs/2019/12/28/25828-80516463_2497217173884032_6534289125883772928_n.jpg",
          rating: "4.3",
        },
        {
          id: "10",
          title: "Pride and Prejudice",
          author: "By Jane Austen",
          price: "$9.95",
          image: "https://m.media-amazon.com/images/I/81JJPDNlxSL.jpg",
          rating: "4.7",
        },
        {
          id: "11",
          title: "The Silent Patient",
          author: "By Alex Michaelides",
          price: "$12.99",
          originalPrice: "$16.99",
          image: "https://m.media-amazon.com/images/I/81eB+7+CkUL.jpg",
          badge: "Bestseller",
          rating: "4.5",
        },
        {
          id: "12",
          title: "Educated",
          author: "By Tara Westover",
          price: "$14.99",
          image: "https://m.media-amazon.com/images/I/81WojUxbbFL.jpg",
          rating: "4.7",
        },

        {
          id: "13",
          title: "1984",
          author: "By George Orwell",
          price: "$9.99",
          image: "https://m.media-amazon.com/images/I/71kxa1-0mfL.jpg",
          rating: "4.6",
        },

        {
          id: "14",
          title: "Dune",
          author: "By Frank Herbert",
          price: "$15.99",
          image: "https://m.media-amazon.com/images/I/91uwocAMtSL.jpg",
          badge: "New",
          rating: "4.7",
        },
        {
          id: "15",
          title: "The Hobbit",
          author: "By J.R.R. Tolkien",
          price: "$11.99",
          originalPrice: "$14.99",
          image: "https://m.media-amazon.com/images/I/91b0C2YNSrL.jpg",
          rating: "4.9",
        },

        {
          id: "16",
          title: "Pride and Prejudice",
          author: "By Jane Austen",
          price: "$9.95",
          image: "https://m.media-amazon.com/images/I/81JJPDNlxSL.jpg",
          rating: "4.7",
        },
        {
          id: "17",
          title: "The Alchemist",
          author: "By Paulo Coelho",
          price: "$11.00",
          image: "https://m.media-amazon.com/images/I/71aFt4+OTOL.jpg",
          rating: "4.6",
        },
        {
          id: "18",
          title: "Becoming",
          author: "By Michelle Obama",
          price: "$16.99",
          image: "https://m.media-amazon.com/images/I/81h2gWPTYJL.jpg",
          rating: "4.8",
        },

        {
          id: "19",
          title: "Atomic Habits",
          author: "By James Clear",
          price: "$13.99",
          image: "https://m.media-amazon.com/images/I/91bYsX41DVL.jpg",
          rating: "4.9",
        },
        {
          id: "20",
          title: "Sapiens",
          author: "By Yuval Noah Harari",
          price: "$18.00",
          image: "https://m.media-amazon.com/images/I/713jIoMO3UL.jpg",
          rating: "4.8",
        },

        {
          id: "17",
          title: "The Four Agreements",
          author: "By Don Miguel Ruiz",
          price: "$7.95",
          image: "https://m.media-amazon.com/images/I/71sBtM3Yi5L.jpg",
          rating: "4.6",
        },
        {
          id: "18",
          title: "The Subtle Art of Not Giving a F*ck",
          author: "By Mark Manson",
          price: "$12.99",
          image: "https://m.media-amazon.com/images/I/71QKQ9mwV7L.jpg",
          rating: "4.5",
        },

        {
          id: "19",
          title: "It Ends With Us",
          author: "By Colleen Hoover",
          price: "$10.50",
          image: "https://m.media-amazon.com/images/I/71PNGYHykrL.jpg",
          rating: "4.5",
        },
      ];

      // Find the current book
      const currentBook = books.find((book) => book.id === bookId);

      // Display book details
      if (currentBook) {
        document.title = `${currentBook.title} - Book Shop`;
        document.getElementById("product-title").textContent =
          currentBook.title;
        document.getElementById("product-author").textContent =
          currentBook.author;
        document.getElementById("product-image").src = currentBook.image;
        document.getElementById("product-image").alt = currentBook.title;
        document.getElementById("current-price").textContent =
          currentBook.price;
        document.getElementById("product-rating").textContent =
          currentBook.rating;
        document.getElementById("product-description").textContent =
          currentBook.description;

        if (currentBook.originalPrice) {
          document.getElementById("original-price").textContent =
            currentBook.originalPrice;
          document.getElementById("original-price").style.display = "inline";
        }

        if (currentBook.badge) {
          document.getElementById("product-badge").textContent =
            currentBook.badge;
          document.getElementById("product-badge").style.display =
            "inline-block";
        }

        // Update meta data if available
        if (currentBook.isbn)
          document.getElementById("product-isbn").textContent =
            currentBook.isbn;
        if (currentBook.publisher)
          document.getElementById("product-publisher").textContent =
            currentBook.publisher;
        if (currentBook.pages)
          document.getElementById("product-pages").textContent =
            currentBook.pages;
        if (currentBook.language)
          document.getElementById("product-language").textContent =
            currentBook.language;

        // Update favorite button state
        const favorites = JSON.parse(localStorage.getItem("favorites")) || [];
        const isFavorite = favorites.some((item) => item.id === currentBook.id);
        const favoriteBtn = document.getElementById("add-to-favorites");
        const favoriteIcon = favoriteBtn.querySelector("i");

        if (isFavorite) {
          favoriteIcon.classList.remove("far");
          favoriteIcon.classList.add("fas");
          favoriteBtn.style.backgroundColor = "#e74c3c";
          favoriteBtn.style.color = "white";
        }
      } else {
        // Book not found - redirect or show error
        window.location.href = "shop.html";
      }

      // Add event listeners
      document.getElementById("add-to-cart").addEventListener("click", () => {
        addToCart(currentBook);
      });

      document
        .getElementById("add-to-favorites")
        .addEventListener("click", () => {
          toggleFavorite(currentBook);

          // Update button appearance
          const favoriteBtn = document.getElementById("add-to-favorites");
          const favoriteIcon = favoriteBtn.querySelector("i");
          const favorites = JSON.parse(localStorage.getItem("favorites")) || [];
          const isFavorite = favorites.some(
            (item) => item.id === currentBook.id
          );

          if (isFavorite) {
            favoriteIcon.classList.remove("far");
            favoriteIcon.classList.add("fas");
            favoriteBtn.style.backgroundColor = "#e74c3c";
            favoriteBtn.style.color = "white";
          } else {
            favoriteIcon.classList.remove("fas");
            favoriteIcon.classList.add("far");
            favoriteBtn.style.backgroundColor = "transparent";
            favoriteBtn.style.color = "#e74c3c";
          }
        });

      // Cart and Favorites functions (same as in shop page)
      function addToCart(book) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        const existingItem = cart.find((item) => item.id === book.id);

        if (existingItem) {
          existingItem.quantity += 1;
        } else {
          cart.push({
            id: book.id,
            title: book.title,
            price: book.price,
            image: book.image,
            quantity: 1,
          });
        }

        localStorage.setItem("cart", JSON.stringify(cart));
        updateCartCount();

        // Show notification
        alert(`${book.title} has been added to your cart!`);
      }

      function toggleFavorite(book) {
        let favorites = JSON.parse(localStorage.getItem("favorites")) || [];
        const existingIndex = favorites.findIndex(
          (item) => item.id === book.id
        );

        if (existingIndex !== -1) {
          favorites.splice(existingIndex, 1);
        } else {
          favorites.push({
            id: book.id,
            title: book.title,
            author: book.author,
            price: book.price,
            image: book.image,
          });
        }

        localStorage.setItem("favorites", JSON.stringify(favorites));
        updateFavoritesCount();
      }

      function updateCartCount() {
        const cart = JSON.parse(localStorage.getItem("cart")) || [];
        const totalItems = cart.reduce(
          (total, item) => total + item.quantity,
          0
        );
        document.querySelectorAll(".cart-count").forEach((el) => {
          el.textContent = totalItems;
        });
      }

      function updateFavoritesCount() {
        const favorites = JSON.parse(localStorage.getItem("favorites")) || [];
        document.querySelectorAll(".favorites-count").forEach((el) => {
          el.textContent = favorites.length;
        });
      }
    </script>
  </body>
</html>
