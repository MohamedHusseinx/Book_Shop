<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product - Book Shop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="../main.css" />
    <style>
        /* Product Detail Styles */
        .product-detail {
            padding: 60px 0;
        }
        
        .product-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: start;
        }
        
        .product-gallery {
            position: sticky;
            top: 20px;
        }
        
        .product-image {
            width: 100%;
            height: 500px;
            object-fit: contain;
            background-color: #f5f5f5;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .product-badge {
            display: inline-block;
            background-color: #e74c3c;
            color: white;
            padding: 5px 15px;
            border-radius: 5px;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .product-title {
            font-size: 32px;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .product-author {
            font-size: 18px;
            color: #7f8c8d;
            margin-bottom: 20px;
        }
        
        .product-rating {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .product-price {
            margin-bottom: 30px;
        }
        
        .current-price {
            font-size: 28px;
            font-weight: bold;
            color: #e74c3c;
        }
        
        .original-price {
            text-decoration: line-through;
            color: #7f8c8d;
            font-size: 18px;
            margin-left: 10px;
        }
        
        .product-description {
            margin-bottom: 30px;
            line-height: 1.8;
        }
        
        .product-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .add-to-cart {
            background-color: #2c3e50;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .add-to-cart:hover {
            background-color: #1a252f;
        }
        
        .add-to-favorites {
            background-color: transparent;
            color: #e74c3c;
            border: 1px solid #e74c3c;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .add-to-favorites:hover {
            background-color: #e74c3c;
            color: white;
        }
        
        .product-meta {
            margin-top: 40px;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        
        .meta-item {
            margin-bottom: 10px;
        }
        
        .meta-label {
            font-weight: bold;
            color: #2c3e50;
        }
        
        @media (max-width: 768px) {
            .product-container {
                grid-template-columns: 1fr;
            }
            
            .product-image {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <!-- Header (Same as shop page) -->
    <header>
      <div class="container header-container">
        <div class="logo">Book<span>Shop</span></div>
        <nav>
          <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="./shop.html">Shop</a></li>
            <li><a href="./mycart.html">Cart</a></li>
            <li><a href="./myfavouritespage.html">Favourites</a></li>
            <li><a href="./contactus.html">Contact</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Product Detail Section -->
    <section class="product-detail">
        <div class="container">
            <div class="product-container">
                <div class="product-gallery">
                    <img id="product-image" src="" alt="" class="product-image">
                </div>
                
                <div class="product-info">
                    <span id="product-badge" class="product-badge" style="display: none;"></span>
                    <h1 id="product-title" class="product-title"></h1>
                    <p id="product-author" class="product-author"></p>
                    
                    <div class="product-rating">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span id="product-rating"></span>
                    </div>
                    
                    <div class="product-price">
                        <span id="current-price" class="current-price"></span>
                        <span id="original-price" class="original-price" style="display: none;"></span>
                    </div>
                    
                    <div class="product-description">
                        <p id="product-description"></p>
                    </div>
                    
                    <div class="product-actions">
                        <button class="add-to-cart" id="add-to-cart">
                            <i class="fas fa-shopping-cart"></i>
                            Add to Cart
                        </button>
                        <button class="add-to-favorites" id="add-to-favorites">
                            <i class="far fa-heart"></i>
                            Add to Favorites
                        </button>
                    </div>
                    
                    <div class="product-meta">
                        <div class="meta-item">
                            <span class="meta-label">ISBN:</span>
                            <span id="product-isbn">978-1250251302</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Publisher:</span>
                            <span id="product-publisher">Celadon Books</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Pages:</span>
                            <span id="product-pages">336</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Language:</span>
                            <span id="product-language">English</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer (Same as shop page) -->
    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-column">
            <h3>Book Shop</h3>
            <p>
              Your one-stop shop for all your reading needs. We offer a wide
              selection of books across all genres.
            </p>
          </div>
          <div class="footer-column">
            <h3>Quick Links</h3>
            <ul>
              <li><a href="../index.html">Home</a></li>
              <li><a href="./shop.html">Shop</a></li>
              <li><a href="./categories.html">Categories</a></li>
              <li><a href="./about.html">About Us</a></li>
            </ul>
          </div>
          <div class="footer-column">
            <h3>Customer Service</h3>
            <ul>
              <li><a href="./contact.html">Contact Us</a></li>
              <li><a href="#">FAQs</a></li>
              <li><a href="#">Shipping Policy</a></li>
              <li><a href="#">Returns</a></li>
            </ul>
          </div>
        </div>
        <div class="copyright">
          <p>&copy; 2025 Book Shop. All Rights Reserved.</p>
        </div>
      </div>
    </footer>

    <script>
        // Get book ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const bookId = urlParams.get('id');
        
        // Book database with descriptions (extend your existing books array)
        const books = [
            {
                id: "1",
                title: "The Silent Patient",
                author: "By Alex Michaelides",
                price: "$12.99",
                originalPrice: "$16.99",
                image: "https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
                badge: "Bestseller",
                rating: "4.5",
                description: "Alicia Berenson's life is seemingly perfect. A famous painter married to an in-demand fashion photographer, she lives in a grand house with big windows overlooking a park in one of London's most desirable areas. One evening her husband Gabriel returns home late from a fashion shoot, and Alicia shoots him five times in the face, and then never speaks another word.",
                isbn: "978-1250251302",
                publisher: "Celadon Books",
                pages: "336",
                language: "English"
            },
            {
                id: "2",
                title: "Educated",
                author: "By Tara Westover",
                price: "$14.99",
                image: "https://images.unsplash.com/photo-1589998059171-988d887df646?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
                rating: "4.7",
                description: "Tara Westover was 17 the first time she set foot in a classroom. Born to survivalists in the mountains of Idaho, she prepared for the end of the world by stockpiling home-canned peaches and sleeping with her 'head-for-the-hills bag'. In the summer she stewed herbs for her mother, a midwife and healer, and in the winter she salvaged in her father's junkyard.",
                isbn: "978-0399590504",
                publisher: "Random House",
                pages: "352",
                language: "English"
            },
            // Add all other books with their descriptions and details
            // ...
        ];
        
        // Find the current book
        const currentBook = books.find(book => book.id === bookId);
        
        // Display book details
        if (currentBook) {
            document.title = `${currentBook.title} - Book Shop`;
            document.getElementById('product-title').textContent = currentBook.title;
            document.getElementById('product-author').textContent = currentBook.author;
            document.getElementById('product-image').src = currentBook.image;
            document.getElementById('product-image').alt = currentBook.title;
            document.getElementById('current-price').textContent = currentBook.price;
            document.getElementById('product-rating').textContent = currentBook.rating;
            document.getElementById('product-description').textContent = currentBook.description;
            
            if (currentBook.originalPrice) {
                document.getElementById('original-price').textContent = currentBook.originalPrice;
                document.getElementById('original-price').style.display = 'inline';
            }
            
            if (currentBook.badge) {
                document.getElementById('product-badge').textContent = currentBook.badge;
                document.getElementById('product-badge').style.display = 'inline-block';
            }
            
            // Update meta data if available
            if (currentBook.isbn) document.getElementById('product-isbn').textContent = currentBook.isbn;
            if (currentBook.publisher) document.getElementById('product-publisher').textContent = currentBook.publisher;
            if (currentBook.pages) document.getElementById('product-pages').textContent = currentBook.pages;
            if (currentBook.language) document.getElementById('product-language').textContent = currentBook.language;
            
            // Update favorite button state
            const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            const isFavorite = favorites.some(item => item.id === currentBook.id);
            const favoriteBtn = document.getElementById('add-to-favorites');
            const favoriteIcon = favoriteBtn.querySelector('i');
            
            if (isFavorite) {
                favoriteIcon.classList.remove('far');
                favoriteIcon.classList.add('fas');
                favoriteBtn.style.backgroundColor = '#e74c3c';
                favoriteBtn.style.color = 'white';
            }
        } else {
            // Book not found - redirect or show error
            window.location.href = 'shop.html';
        }
        
        // Add event listeners
        document.getElementById('add-to-cart').addEventListener('click', () => {
            addToCart(currentBook);
        });
        
        document.getElementById('add-to-favorites').addEventListener('click', () => {
            toggleFavorite(currentBook);
            
            // Update button appearance
            const favoriteBtn = document.getElementById('add-to-favorites');
            const favoriteIcon = favoriteBtn.querySelector('i');
            const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            const isFavorite = favorites.some(item => item.id === currentBook.id);
            
            if (isFavorite) {
                favoriteIcon.classList.remove('far');
                favoriteIcon.classList.add('fas');
                favoriteBtn.style.backgroundColor = '#e74c3c';
                favoriteBtn.style.color = 'white';
            } else {
                favoriteIcon.classList.remove('fas');
                favoriteIcon.classList.add('far');
                favoriteBtn.style.backgroundColor = 'transparent';
                favoriteBtn.style.color = '#e74c3c';
            }
        });
        
        // Cart and Favorites functions (same as in shop page)
        function addToCart(book) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existingItem = cart.find(item => item.id === book.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: book.id,
                    title: book.title,
                    price: book.price,
                    image: book.image,
                    quantity: 1
                });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            
            // Show notification
            alert(`${book.title} has been added to your cart!`);
        }
        
        function toggleFavorite(book) {
            let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            const existingIndex = favorites.findIndex(item => item.id === book.id);
            
            if (existingIndex !== -1) {
                favorites.splice(existingIndex, 1);
            } else {
                favorites.push({
                    id: book.id,
                    title: book.title,
                    author: book.author,
                    price: book.price,
                    image: book.image
                });
            }
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
            updateFavoritesCount();
        }
        
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            document.querySelectorAll('.cart-count').forEach(el => {
                el.textContent = totalItems;
            });
        }
        
        function updateFavoritesCount() {
            const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            document.querySelectorAll('.favorites-count').forEach(el => {
                el.textContent = favorites.length;
            });
        }
    </script>
</body>
</html>